/*! javascript-qrcode: Quick Response Code (QR-Code) Model 2 generator in plain javascript. 2014-04-01 11:25 */
String.prototype.bytes=function(){"use strict";var a,b=[],c=this.toString().split("");for(a=0;a<c.length;a+=1){var d=c[a].charCodeAt(0),e=!1;if(d>55296){a+=1,e=!0;var f=[d,c[a].charCodeAt(0)],g=f[0]-55296,h=f[1]-56320,i=g<<10;i|=h,i+=65536,d=i}var j=[];if(d>127){for(var k=[128,192,224,240,248,252];;){if(e===!0&&0===d||e===!1&&d<k[0]){j.length>0&&(d|=k[j.length]),j.unshift(d);break}var l=d;l&=63,l|=k[0],j.unshift(l),d>>>=6}for(;j.length;)b.push(j.shift())}else b.push(d)}return b},Array.prototype.parseInt=function(a){"use strict";return a=a||10,this.map(function(b){return parseInt(b,a)})};var Config=function(){};Config.prototype.constructor=Config,Config.prototype.xorBits=function(a,b){"use strict";return(parseInt(a,2)^parseInt(b,2)).toString(2)},Config.prototype.getVersionInformationString=function(a){"use strict";for(var b="1111100100101",c=parseInt(a).toString(2);c.length<6;)c="0"+c;for(var d=c;d.length<18;)d+="0";for(d=d.replace(/^0+/,"");d.length>=13;){for(var e=b;e.length<d.length;)e+="0";d=this.xorBits(e,d),d=d.replace(/^0+/,"")}for(;d.length<12;)d="0"+d;return c+d},Config.prototype.getFormatString=function(a,b){"use strict";a=a||"M",b=b||0;for(var c,d="10100110111",e="101010000010010",f="",g=this.correctionLevels[a].toString(2);g.length<2;)g="0"+g;f+=g;for(var h=parseInt(b).toString(2);h.length<3;)h="0"+h;for(f+=h,c=f;c.length<15;)c+="0";for(c=c.replace(/^0+/,"");c.length>=11;){for(var i=d;i.length<c.length;)i+="0";c=this.xorBits(i,c),c=c.replace(/^0+/,"")}for(;c.length<10;)c="0"+c;for(f+=c,f=this.xorBits(f,e);f.length<15;)f="0"+f;return f},Config.prototype.getBlockInfo=function(a,b){"use strict";var c=a+"-"+b;if(null===a||null===b)throw new InvalidVersionNumberException;return this.dataSizeInfo[c]},Config.prototype.getCharacterCountIndicator=function(a,b,c){"use strict";var d=a.toString(2),e=this.wordSizes[b],f=0;for(var g in e)if(e.hasOwnProperty(g)){var h=g.split("-").parseInt();if(c>=h[0]&&c<=h[1]){f=e[g];break}}for(;d.length<f;)d="0"+d;return d},Config.prototype.getCapacityRange=function(a,b){"use strict";var c=Object.keys(this.characterCapacities).pop();return{min:1,max:this.characterCapacities[c][b][a]}},Config.prototype.correctionLevels={L:1,M:0,Q:3,H:2},Config.prototype.remainderBits={1:0,2:7,3:7,4:7,5:7,6:7,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:3,15:3,16:3,17:3,18:3,19:3,20:3,21:4,22:4,23:4,24:4,25:4,26:4,27:4,28:3,29:3,30:3,31:3,32:3,33:3,34:3,35:0,36:0,37:0,38:0,39:0,40:0},Config.prototype.dataSizeInfo={"1-L":[19,7,1,19,0,0],"1-M":[16,10,1,16,0,0],"1-Q":[13,13,1,13,0,0],"1-H":[9,17,1,9,0,0],"2-L":[34,10,1,34,0,0],"2-M":[28,16,1,28,0,0],"2-Q":[22,22,1,22,0,0],"2-H":[16,28,1,16,0,0],"3-L":[55,15,1,55,0,0],"3-M":[44,26,1,44,0,0],"3-Q":[34,18,2,17,0,0],"3-H":[26,22,2,13,0,0],"4-L":[80,20,1,80,0,0],"4-M":[64,18,2,32,0,0],"4-Q":[48,26,2,24,0,0],"4-H":[36,16,4,9,0,0],"5-L":[108,26,1,108,0,0],"5-M":[86,24,2,43,0,0],"5-Q":[62,18,2,15,2,16],"5-H":[46,22,2,11,2,12],"6-L":[136,18,2,68,0,0],"6-M":[108,16,4,27,0,0],"6-Q":[76,24,4,19,0,0],"6-H":[60,28,4,15,0,0],"7-L":[156,20,2,78,0,0],"7-M":[124,18,4,31,0,0],"7-Q":[88,18,2,14,4,15],"7-H":[66,26,4,13,1,14],"8-L":[194,24,2,97,0,0],"8-M":[154,22,2,38,2,39],"8-Q":[110,22,4,18,2,19],"8-H":[86,26,4,14,2,15],"9-L":[232,30,2,116,0,0],"9-M":[182,22,3,36,2,37],"9-Q":[132,20,4,16,4,17],"9-H":[100,24,4,12,4,13],"10-L":[274,18,2,68,2,69],"10-M":[216,26,4,43,1,44],"10-Q":[154,24,6,19,2,20],"10-H":[122,28,6,15,2,16],"11-L":[324,20,4,81,0,0],"11-M":[254,30,1,50,4,51],"11-Q":[180,28,4,22,4,23],"11-H":[140,24,3,12,8,13],"12-L":[370,24,2,92,2,93],"12-M":[290,22,6,36,2,37],"12-Q":[206,26,4,20,6,21],"12-H":[158,28,7,14,4,15],"13-L":[428,26,4,107,0,0],"13-M":[334,22,8,37,1,38],"13-Q":[244,24,8,20,4,21],"13-H":[180,22,12,11,4,12],"14-L":[461,30,3,115,1,116],"14-M":[365,24,4,40,5,41],"14-Q":[261,20,11,16,5,17],"14-H":[197,24,11,12,5,13],"15-L":[523,22,5,87,1,88],"15-M":[415,24,5,41,5,42],"15-Q":[295,30,5,24,7,25],"15-H":[223,24,11,12,7,13],"16-L":[589,24,5,98,1,99],"16-M":[453,28,7,45,3,46],"16-Q":[325,24,15,19,2,20],"16-H":[253,30,3,15,13,16],"17-L":[647,28,1,107,5,108],"17-M":[507,28,10,46,1,47],"17-Q":[367,28,1,22,15,23],"17-H":[283,28,2,14,17,15],"18-L":[721,30,5,120,1,121],"18-M":[563,26,9,43,4,44],"18-Q":[397,28,17,22,1,23],"18-H":[313,28,2,14,19,15],"19-L":[795,28,3,113,4,114],"19-M":[627,26,3,44,11,45],"19-Q":[445,26,17,21,4,22],"19-H":[341,26,9,13,16,14],"20-L":[861,28,3,107,5,108],"20-M":[669,26,3,41,13,42],"20-Q":[485,30,15,24,5,25],"20-H":[385,28,15,15,10,16],"21-L":[932,28,4,116,4,117],"21-M":[714,26,17,42,0,0],"21-Q":[512,28,17,22,6,23],"21-H":[406,30,19,16,6,17],"22-L":[1006,28,2,111,7,112],"22-M":[782,28,17,46,0,0],"22-Q":[568,30,7,24,16,25],"22-H":[442,24,34,13,0,0],"23-L":[1094,30,4,121,5,122],"23-M":[860,28,4,47,14,48],"23-Q":[614,30,11,24,14,25],"23-H":[464,30,16,15,14,16],"24-L":[1174,30,6,117,4,118],"24-M":[914,28,6,45,14,46],"24-Q":[664,30,11,24,16,25],"24-H":[514,30,30,16,2,17],"25-L":[1276,26,8,106,4,107],"25-M":[1e3,28,8,47,13,48],"25-Q":[718,30,7,24,22,25],"25-H":[538,30,22,15,13,16],"26-L":[1370,28,10,114,2,115],"26-M":[1062,28,19,46,4,47],"26-Q":[754,28,28,22,6,23],"26-H":[596,30,33,16,4,17],"27-L":[1468,30,8,122,4,123],"27-M":[1128,28,22,45,3,46],"27-Q":[808,30,8,23,26,24],"27-H":[628,30,12,15,28,16],"28-L":[1531,30,3,117,10,118],"28-M":[1193,28,3,45,23,46],"28-Q":[871,30,4,24,31,25],"28-H":[661,30,11,15,31,16],"29-L":[1631,30,7,116,7,117],"29-M":[1267,28,21,45,7,46],"29-Q":[911,30,1,23,37,24],"29-H":[701,30,19,15,26,16],"30-L":[1735,30,5,115,10,116],"30-M":[1373,28,19,47,10,48],"30-Q":[985,30,15,24,25,25],"30-H":[745,30,23,15,25,16],"31-L":[1843,30,13,115,3,116],"31-M":[1455,28,2,46,29,47],"31-Q":[1033,30,42,24,1,25],"31-H":[793,30,23,15,28,16],"32-L":[1955,30,17,115,0,0],"32-M":[1541,28,10,46,23,47],"32-Q":[1115,30,10,24,35,25],"32-H":[845,30,19,15,35,16],"33-L":[2071,30,17,115,1,116],"33-M":[1631,28,14,46,21,47],"33-Q":[1171,30,29,24,19,25],"33-H":[901,30,11,15,46,16],"34-L":[2191,30,13,115,6,116],"34-M":[1725,28,14,46,23,47],"34-Q":[1231,30,44,24,7,25],"34-H":[961,30,59,16,1,17],"35-L":[2306,30,12,121,7,122],"35-M":[1812,28,12,47,26,48],"35-Q":[1286,30,39,24,14,25],"35-H":[986,30,22,15,41,16],"36-L":[2434,30,6,121,14,122],"36-M":[1914,28,6,47,34,48],"36-Q":[1354,30,46,24,10,25],"36-H":[1054,30,2,15,64,16],"37-L":[2566,30,17,122,4,123],"37-M":[1992,28,29,46,14,47],"37-Q":[1426,30,49,24,10,25],"37-H":[1096,30,24,15,46,16],"38-L":[2702,30,4,122,18,123],"38-M":[2102,28,13,46,32,47],"38-Q":[1502,30,48,24,14,25],"38-H":[1142,30,42,15,32,16],"39-L":[2812,30,20,117,4,118],"39-M":[2216,28,40,47,7,48],"39-Q":[1582,30,43,24,22,25],"39-H":[1222,30,10,15,67,16],"40-L":[2956,30,19,118,6,119],"40-M":[2334,28,18,47,31,48],"40-Q":[1666,30,34,24,34,25],"40-H":[1276,30,20,15,61,16]},Config.prototype.dataModeBitStrings={numeric:"0001",alphanumeric:"0010",binary:"0100",kanji:"1000"},Config.prototype.wordSizes={numeric:{"1-9":10,"10-26":12,"27-40":14},alphanumeric:{"1-9":9,"10-26":11,"27-40":13},binary:{"1-9":8,"10-26":16,"27-40":16},kanji:{"1-9":8,"10-26":10,"27-40":12}},Config.prototype.alignmentPatternLocations={1:[],2:[6,18],3:[6,22],4:[6,26],5:[6,30],6:[6,34],7:[6,22,38],8:[6,24,42],9:[6,26,46],10:[6,28,50],11:[6,30,54],12:[6,32,58],13:[6,34,62],14:[6,26,46,66],15:[6,26,48,70],16:[6,26,50,74],17:[6,30,54,78],18:[6,30,56,82],19:[6,30,58,86],20:[6,34,62,90],21:[6,28,50,72,94],22:[6,26,50,74,98],23:[6,30,54,78,102],24:[6,28,54,80,106],25:[6,32,58,84,110],26:[6,30,58,86,114],27:[6,34,62,90,118],28:[6,26,50,74,98,122],29:[6,30,54,78,102,126],30:[6,26,52,78,104,130],31:[6,30,56,82,108,134],32:[6,34,60,86,112,138],33:[6,30,58,86,114,142],34:[6,34,62,90,118,146],35:[6,30,54,78,102,126,150],36:[6,24,50,76,102,128,154],37:[6,28,54,80,106,132,158],38:[6,32,58,84,110,136,162],39:[6,26,54,82,110,138,166],40:[6,30,58,86,114,142,170]},Config.prototype.characterCapacities={1:{L:{numeric:41,alphanumeric:25,binary:17,kanji:10},M:{numeric:34,alphanumeric:20,binary:14,kanji:8},Q:{numeric:27,alphanumeric:16,binary:11,kanji:7},H:{numeric:17,alphanumeric:10,binary:7,kanji:4}},2:{L:{numeric:77,alphanumeric:47,binary:32,kanji:20},M:{numeric:63,alphanumeric:38,binary:26,kanji:16},Q:{numeric:48,alphanumeric:29,binary:20,kanji:12},H:{numeric:34,alphanumeric:20,binary:14,kanji:8}},3:{L:{numeric:127,alphanumeric:77,binary:53,kanji:32},M:{numeric:101,alphanumeric:61,binary:42,kanji:26},Q:{numeric:77,alphanumeric:47,binary:32,kanji:20},H:{numeric:58,alphanumeric:35,binary:24,kanji:15}},4:{L:{numeric:187,alphanumeric:114,binary:78,kanji:48},M:{numeric:149,alphanumeric:90,binary:62,kanji:38},Q:{numeric:111,alphanumeric:67,binary:46,kanji:28},H:{numeric:82,alphanumeric:50,binary:34,kanji:21}},5:{L:{numeric:255,alphanumeric:154,binary:106,kanji:65},M:{numeric:202,alphanumeric:122,binary:84,kanji:52},Q:{numeric:144,alphanumeric:87,binary:60,kanji:37},H:{numeric:106,alphanumeric:64,binary:44,kanji:27}},6:{L:{numeric:322,alphanumeric:195,binary:134,kanji:82},M:{numeric:255,alphanumeric:154,binary:106,kanji:65},Q:{numeric:178,alphanumeric:108,binary:74,kanji:45},H:{numeric:139,alphanumeric:84,binary:58,kanji:36}},7:{L:{numeric:370,alphanumeric:224,binary:154,kanji:95},M:{numeric:293,alphanumeric:178,binary:122,kanji:75},Q:{numeric:207,alphanumeric:125,binary:86,kanji:53},H:{numeric:154,alphanumeric:93,binary:64,kanji:39}},8:{L:{numeric:461,alphanumeric:279,binary:192,kanji:118},M:{numeric:365,alphanumeric:221,binary:152,kanji:93},Q:{numeric:259,alphanumeric:157,binary:108,kanji:66},H:{numeric:202,alphanumeric:122,binary:84,kanji:52}},9:{L:{numeric:552,alphanumeric:335,binary:230,kanji:141},M:{numeric:432,alphanumeric:262,binary:180,kanji:111},Q:{numeric:312,alphanumeric:189,binary:130,kanji:80},H:{numeric:235,alphanumeric:143,binary:98,kanji:60}},10:{L:{numeric:652,alphanumeric:395,binary:271,kanji:167},M:{numeric:513,alphanumeric:311,binary:213,kanji:131},Q:{numeric:364,alphanumeric:221,binary:151,kanji:93},H:{numeric:288,alphanumeric:174,binary:119,kanji:74}},11:{L:{numeric:772,alphanumeric:468,binary:321,kanji:198},M:{numeric:604,alphanumeric:366,binary:251,kanji:155},Q:{numeric:427,alphanumeric:259,binary:177,kanji:109},H:{numeric:331,alphanumeric:200,binary:137,kanji:85}},12:{L:{numeric:883,alphanumeric:535,binary:367,kanji:226},M:{numeric:691,alphanumeric:419,binary:287,kanji:177},Q:{numeric:489,alphanumeric:296,binary:203,kanji:125},H:{numeric:374,alphanumeric:227,binary:155,kanji:96}},13:{L:{numeric:1022,alphanumeric:619,binary:425,kanji:262},M:{numeric:796,alphanumeric:483,binary:331,kanji:204},Q:{numeric:580,alphanumeric:352,binary:241,kanji:149},H:{numeric:427,alphanumeric:259,binary:177,kanji:109}},14:{L:{numeric:1101,alphanumeric:667,binary:458,kanji:282},M:{numeric:871,alphanumeric:528,binary:362,kanji:223},Q:{numeric:621,alphanumeric:376,binary:258,kanji:159},H:{numeric:468,alphanumeric:283,binary:194,kanji:120}},15:{L:{numeric:1250,alphanumeric:758,binary:520,kanji:320},M:{numeric:991,alphanumeric:600,binary:412,kanji:254},Q:{numeric:703,alphanumeric:426,binary:292,kanji:180},H:{numeric:530,alphanumeric:321,binary:220,kanji:136}},16:{L:{numeric:1408,alphanumeric:854,binary:586,kanji:361},M:{numeric:1082,alphanumeric:656,binary:450,kanji:277},Q:{numeric:775,alphanumeric:470,binary:322,kanji:198},H:{numeric:602,alphanumeric:365,binary:250,kanji:154}},17:{L:{numeric:1548,alphanumeric:938,binary:644,kanji:397},M:{numeric:1212,alphanumeric:734,binary:504,kanji:310},Q:{numeric:876,alphanumeric:531,binary:364,kanji:224},H:{numeric:674,alphanumeric:408,binary:280,kanji:173}},18:{L:{numeric:1725,alphanumeric:1046,binary:718,kanji:442},M:{numeric:1346,alphanumeric:816,binary:560,kanji:345},Q:{numeric:948,alphanumeric:574,binary:394,kanji:243},H:{numeric:746,alphanumeric:452,binary:310,kanji:191}},19:{L:{numeric:1903,alphanumeric:1153,binary:792,kanji:488},M:{numeric:1500,alphanumeric:909,binary:624,kanji:384},Q:{numeric:1063,alphanumeric:644,binary:442,kanji:272},H:{numeric:813,alphanumeric:493,binary:338,kanji:208}},20:{L:{numeric:2061,alphanumeric:1249,binary:858,kanji:528},M:{numeric:1600,alphanumeric:970,binary:666,kanji:410},Q:{numeric:1159,alphanumeric:702,binary:482,kanji:297},H:{numeric:919,alphanumeric:557,binary:382,kanji:235}},21:{L:{numeric:2232,alphanumeric:1352,binary:929,kanji:572},M:{numeric:1708,alphanumeric:1035,binary:711,kanji:438},Q:{numeric:1224,alphanumeric:742,binary:509,kanji:314},H:{numeric:969,alphanumeric:587,binary:403,kanji:248}},22:{L:{numeric:2409,alphanumeric:1460,binary:1003,kanji:618},M:{numeric:1872,alphanumeric:1134,binary:779,kanji:480},Q:{numeric:1358,alphanumeric:823,binary:565,kanji:348},H:{numeric:1056,alphanumeric:640,binary:439,kanji:270}},23:{L:{numeric:2620,alphanumeric:1588,binary:1091,kanji:672},M:{numeric:2059,alphanumeric:1248,binary:857,kanji:528},Q:{numeric:1468,alphanumeric:890,binary:611,kanji:376},H:{numeric:1108,alphanumeric:672,binary:461,kanji:284}},24:{L:{numeric:2812,alphanumeric:1704,binary:1171,kanji:721},M:{numeric:2188,alphanumeric:1326,binary:911,kanji:561},Q:{numeric:1588,alphanumeric:963,binary:661,kanji:407},H:{numeric:1228,alphanumeric:744,binary:511,kanji:315}},25:{L:{numeric:3057,alphanumeric:1853,binary:1273,kanji:784},M:{numeric:2395,alphanumeric:1451,binary:997,kanji:614},Q:{numeric:1718,alphanumeric:1041,binary:715,kanji:440},H:{numeric:1286,alphanumeric:779,binary:535,kanji:330}},26:{L:{numeric:3283,alphanumeric:1990,binary:1367,kanji:842},M:{numeric:2544,alphanumeric:1542,binary:1059,kanji:652},Q:{numeric:1804,alphanumeric:1094,binary:751,kanji:462},H:{numeric:1425,alphanumeric:864,binary:593,kanji:365}},27:{L:{numeric:3517,alphanumeric:2132,binary:1465,kanji:902},M:{numeric:2701,alphanumeric:1637,binary:1125,kanji:692},Q:{numeric:1933,alphanumeric:1172,binary:805,kanji:496},H:{numeric:1501,alphanumeric:910,binary:625,kanji:385}},28:{L:{numeric:3669,alphanumeric:2223,binary:1528,kanji:940},M:{numeric:2857,alphanumeric:1732,binary:1190,kanji:732},Q:{numeric:2085,alphanumeric:1263,binary:868,kanji:534},H:{numeric:1581,alphanumeric:958,binary:658,kanji:405}},29:{L:{numeric:3909,alphanumeric:2369,binary:1628,kanji:1002},M:{numeric:3035,alphanumeric:1839,binary:1264,kanji:778},Q:{numeric:2181,alphanumeric:1322,binary:908,kanji:559},H:{numeric:1677,alphanumeric:1016,binary:698,kanji:430}},30:{L:{numeric:4158,alphanumeric:2520,binary:1732,kanji:1066},M:{numeric:3289,alphanumeric:1994,binary:1370,kanji:843},Q:{numeric:2358,alphanumeric:1429,binary:982,kanji:604},H:{numeric:1782,alphanumeric:1080,binary:742,kanji:457}},31:{L:{numeric:4417,alphanumeric:2677,binary:1840,kanji:1132},M:{numeric:3486,alphanumeric:2113,binary:1452,kanji:894},Q:{numeric:2473,alphanumeric:1499,binary:1030,kanji:634},H:{numeric:1897,alphanumeric:1150,binary:790,kanji:486}},32:{L:{numeric:4686,alphanumeric:2840,binary:1952,kanji:1201},M:{numeric:3693,alphanumeric:2238,binary:1538,kanji:947},Q:{numeric:2670,alphanumeric:1618,binary:1112,kanji:684},H:{numeric:2022,alphanumeric:1226,binary:842,kanji:518}},33:{L:{numeric:4965,alphanumeric:3009,binary:2068,kanji:1273},M:{numeric:3909,alphanumeric:2369,binary:1628,kanji:1002},Q:{numeric:2805,alphanumeric:1700,binary:1168,kanji:719},H:{numeric:2157,alphanumeric:1307,binary:898,kanji:553}},34:{L:{numeric:5253,alphanumeric:3183,binary:2188,kanji:1347},M:{numeric:4134,alphanumeric:2506,binary:1722,kanji:1060},Q:{numeric:2949,alphanumeric:1787,binary:1228,kanji:756},H:{numeric:2301,alphanumeric:1394,binary:958,kanji:590}},35:{L:{numeric:5529,alphanumeric:3351,binary:2303,kanji:1417},M:{numeric:4343,alphanumeric:2632,binary:1809,kanji:1113},Q:{numeric:3081,alphanumeric:1867,binary:1283,kanji:790},H:{numeric:2361,alphanumeric:1431,binary:983,kanji:605}},36:{L:{numeric:5836,alphanumeric:3537,binary:2431,kanji:1496},M:{numeric:4588,alphanumeric:2780,binary:1911,kanji:1176},Q:{numeric:3244,alphanumeric:1966,binary:1351,kanji:832},H:{numeric:2524,alphanumeric:1530,binary:1051,kanji:647}},37:{L:{numeric:6153,alphanumeric:3729,binary:2563,kanji:1577},M:{numeric:4775,alphanumeric:2894,binary:1989,kanji:1224},Q:{numeric:3417,alphanumeric:2071,binary:1423,kanji:876},H:{numeric:2625,alphanumeric:1591,binary:1093,kanji:673}},38:{L:{numeric:6479,alphanumeric:3927,binary:2699,kanji:1661},M:{numeric:5039,alphanumeric:3054,binary:2099,kanji:1292},Q:{numeric:3599,alphanumeric:2181,binary:1499,kanji:923},H:{numeric:2735,alphanumeric:1658,binary:1139,kanji:701}},39:{L:{numeric:6743,alphanumeric:4087,binary:2809,kanji:1729},M:{numeric:5313,alphanumeric:3220,binary:2213,kanji:1362},Q:{numeric:3791,alphanumeric:2298,binary:1579,kanji:972},H:{numeric:2927,alphanumeric:1774,binary:1219,kanji:750}},40:{L:{numeric:7089,alphanumeric:4296,binary:2953,kanji:1817},M:{numeric:5596,alphanumeric:3391,binary:2331,kanji:1435},Q:{numeric:3993,alphanumeric:2420,binary:1663,kanji:1024},H:{numeric:3057,alphanumeric:1852,binary:1273,kanji:784}}};var DataAnalyzer=function(a){"use strict";this.config=new Config,this.encoder=new DataEncoder,this.version=a||null,this.version=parseInt(this.version),this.version=isNaN(this.version)?null:parseInt(this.version)};DataAnalyzer.prototype.constructor=DataAnalyzer,DataAnalyzer.prototype.modes={numeric:function(a){"use strict";return null!==a.match(/^\d+$/)},alphanumeric:function(a,b){"use strict";for(var c=a.split("").sort().filter(function(a,b,c){return b===c.indexOf(a)&&a.length>0});c.length>0;)if("undefined"==typeof b.encoder.alphanumericCharsTable[c.shift()])return!1;return!0},kanji:function(){"use strict";return!1}},DataAnalyzer.prototype.analyze=function(a,b){"use strict";a=a||"";var c=a.bytes().length,d=["H","Q","M","L"];if(0===c)throw new EmptyDataException;b=b||d;var e={data:a,capacity:0,datalen:c,mode:"binary",eclevel:null,version:2};for(var f in this.modes)if(this.modes.hasOwnProperty(f)){var g=this.modes[f](a,this);if(g){e.mode=f;break}}for(var h=!0,i=0;i<b.length;i+=1){var j=this.config.getCapacityRange(e.mode,b[i]);if(c>=j.min&&c<=j.max){h=!1;break}}if(h===!0)throw new DataOutOfRangeException;for(var k in this.config.characterCapacities)if(this.config.characterCapacities.hasOwnProperty(k)){if(null!==this.version&&parseInt(k)!==this.version)continue;for(var l=0;l<b.length;l+=1){var m=b[l],n=this.config.characterCapacities[k][m][e.mode];if(n>=c){e.capacity=n,e.eclevel=m,e.version=parseInt(k);break}}if(e.capacity>0)break}return e};var DataEncoder=function(){"use strict";this.config=new Config,this.ec=new ErrorCorrection};DataEncoder.prototype.constructor=DataEncoder,DataEncoder.prototype.encodeNumeric=function(a){"use strict";for(var b=10,c=a.split(""),d=null,e=[],f=0;f<c.length;f+=3){var g=c.slice(f,f+3).join("");b=3*g.length+1,d=parseInt(g);for(var h=d.toString(2);h.length<b;)h="0"+h;e.push(h)}return e},DataEncoder.prototype.encodeAlphanumeric=function(a){"use strict";for(var b=11,c=a.split(""),d=null,e=[],f=c.map(function(a){return this.alphanumericCharsTable[a]},this),g=0;g<f.length;g+=2){g+1<f.length?d=45*f[g]+f[g+1]:(d=f[g],b=Math.ceil(b/2));for(var h=d.toString(2);h.length<b;)h="0"+h;e.push(h)}return e},DataEncoder.prototype.encodeBinary=function(a){"use strict";for(var b,c=8,d=a.bytes(),e=[],f=0;f<d.length;f+=1){for(b=d[f].toString(2);b.length<c;)b="0"+b;e.push(b)}return e},DataEncoder.prototype.encodeData=function(a,b,c,d){"use strict";var e=["11101100","00010001"],f=[];if("numeric"===b)f=f.concat(this.encodeNumeric(a));else if("alphanumeric"===b)f=f.concat(this.encodeAlphanumeric(a));else{if("binary"!==b)throw new NotSupportedModeException(b);f=f.concat(this.encodeBinary(a))}var g=this.config.dataModeBitStrings[b],h=this.config.getCharacterCountIndicator(a.bytes().length,b,c);f.unshift(h),f.unshift(g);var i=f.join("");i+=this.terminator(i.length,c,d);for(var j=[],k=0;;){var l=i.substring(k,k+8);if(""===l)break;j.push(l),k+=8}for(;j[j.length-1].length<8;)j[j.length-1]+="0";for(var m=this.config.getBlockInfo(c,d),n=m[0],o=0;j.length<n;)j.push(e[o%e.length]),o+=1;return j.parseInt(2)},DataEncoder.prototype.encode=function(a,b,c,d){"use strict";var e,f,g=this.encodeData(a,b,c,d),h=[],i=g.map(function(a){for(var b=a.toString(2);b.length<8;)b="0"+b;return b}),j={1:[],2:[]},k=[],l=[],m=[],n={},o={},p=this.config.getBlockInfo(c,d);n[1]=p[2],o[1]=p[3],n[2]=p[4],o[2]=p[5];var q,r,s,t,u,v=Math.max(o[1],o[2]);for(u in n)if(n.hasOwnProperty(u))for(q=0;q<n[u];q+=1){for(k=[],s=0;s<o[u];s+=1)k.push(parseInt(i.shift(),2));for(f=this.ec.getCode(k,c,d),m.push(f);k.length<v;)k.push(null);j[u][q]=k,l.push(k)}var w=[],x=[];for(t=0;v>t;t+=1)for(r=0;r<l.length;r+=1)null!==l[r][t]&&w.push(l[r][t]);for(t=0;t<m[0].length;t+=1)for(r=0;r<m.length;r+=1)x.push(m[r][t]);for(w=w.concat(x);w.length>0;){for(e=w.shift().toString(2);e.length<8;)e="0"+e;h.push(e)}var y=h.join("");return y+=this.remainder(c)},DataEncoder.prototype.terminator=function(a,b,c){"use strict";var d="0000",e=this.config.getBlockInfo(b,c),f=e[0],g=8*f,h=g-a;if(4>h){d="";for(var i=0;h>i;i+=1)d+="0"}return d},DataEncoder.prototype.remainder=function(a){"use strict";for(var b=this.config.remainderBits[a],c="";b>0;)c+="0",b-=1;return c},DataEncoder.prototype.alphanumericCharsTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44};var ErrorCorrection=function(){"use strict";this.config=new Config,this.gen=new GeneratorPolynominal};ErrorCorrection.prototype.constructor=ErrorCorrection,ErrorCorrection.prototype.getCode=function(a,b,c){"use strict";var d=parseInt(this.config.dataSizeInfo[""+b+"-"+c][1]),e=this.gen.polynominal(d),f=[];f=f.concat(a);for(var g=0;g<a.length;g+=1){for(var h=this.gen.int2exp(f[0])%255,i=0;i<e.length;i+=1){var j=(e[i]+h)%255;j=this.gen.exp2int(j),f[i]=f[i]^j}f.shift()}return f};var Evaluation=function(a){"use strict";this.matrix=a};Evaluation.prototype.constructor=Evaluation,Evaluation.prototype.evaluatePattern=function(a){"use strict";var b={total:0,1:0,2:0,3:0,4:0};for(var c in this.rules)if(this.rules.hasOwnProperty(c)){var d=parseInt(c),e=this.rules[d](a);b[d]=e.total,b.total+=b[d]}return b},Evaluation.prototype.rules={1:function(a){"use strict";var b,c,d,e,f,g,h={horizontal:0,vertical:0,total:0};for(b=0;b<a.length;b+=1){if(f=0,g=a[b].join(""),e=g.match(/(0{5,}|1{5,})/g),null!==e)for(d=0;d<e.length;d+=1)f+=3+e[d].length-5;h.horizontal+=f}for(c=0;c<a.length;c+=1){for(f=0,g="",b=0;b<a[0].length;b+=1)g+=a[b][c];if(e=g.match(/(0{5,}|1{5,})/g),null!==e)for(d=0;d<e.length;d+=1)f+=3+e[d].length-5;h.vertical+=f}return h.total=h.horizontal+h.vertical,h},2:function(a){"use strict";var b,c,d={found:0,total:0},e=3;for(b=0;b<a.length-1;b+=1)for(c=0;c<a[0].length-1;c+=1)a[b][c]===a[b][c+1]&&a[b][c]===a[b+1][c]&&a[b][c]===a[b+1][c+1]&&(d.found+=1);return d.total=d.found*e,d},3:function(a){"use strict";var b,c,d,e={cols:0,rows:0,total:0},f=[[1,0,1,1,1,0,1,0,0,0,0],[0,0,0,0,1,0,1,1,1,0,1]],g=40,h=!0;for(b=0;b<a.length;b+=1)for(c=0;c<a[0].length-f[0].length+1;c+=1){for(h=[!0,!0],d=0;d<f[0].length;d+=1)a[b][c+d]!==f[0][d]&&(h[0]=!1),a[b][c+d]!==f[1][d]&&(h[1]=!1);h[0]===!0&&(e.rows+=1),h[1]===!0&&(e.rows+=1)}for(c=0;c<a[0].length;c+=1)for(b=0;b<a.length-f[0].length+1;b+=1){for(h=[!0,!0],d=0;d<f[0].length;d+=1)a[b+d][c]!==f[0][d]&&(h[0]=!1),a[b+d][c]!==f[1][d]&&(h[1]=!1);h[0]===!0&&(e.cols+=1),h[1]===!0&&(e.cols+=1)}return e.total=(e.rows+e.cols)*g,e},4:function(a){"use strict";var b,c,d={dark:0,all:0,total:0},e=10;for(b=0;b<a.length;b+=1)for(c=0;c<a[0].length;c+=1)d.dark+=1===a[b][c]?1:0,d.all+=1;for(var f=d.dark/d.all*100,g={upper:0,lower:0};g.upper<f;)g.upper+=5;g.lower=g.upper-5;var h=Math.abs(g.lower-50),i=Math.abs(g.upper-50);return d.total=Math.min(h,i)*e,d}};var OutOfRangeException=function(a){"use strict";a=a||"Value is out of range.",this.message=a};OutOfRangeException.prototype.constructor=OutOfRangeException,OutOfRangeException.prototype.toString=function(){"use strict";return this.message};var NotSupportedModeException=function(a){"use strict";this.message="Mode "+a+" is not supported."};NotSupportedModeException.prototype.constructor=NotSupportedModeException,NotSupportedModeException.prototype.toString=function(){"use strict";return this.message};var InvalidErrorCorrectionLevelException=function(a){"use strict";a=a||"Invalid Error Correction Level, only L, M, Q or H is supported.",this.message=a};InvalidErrorCorrectionLevelException.prototype.constructor=InvalidErrorCorrectionLevelException,InvalidErrorCorrectionLevelException.prototype.toString=function(){"use strict";return this.message};var InvalidVersionNumberException=function(a){"use strict";a=a||"Invalid Version number.",this.message=a};InvalidVersionNumberException.prototype.constructor=InvalidVersionNumberException,InvalidVersionNumberException.prototype.toString=function(){"use strict";return this.message};var EmptyDataException=function(a){"use strict";a=a||"Data should contain at least one character.",this.message=a};EmptyDataException.prototype.constructor=EmptyDataException,EmptyDataException.prototype.toString=function(){"use strict";return this.message};var DataOutOfRangeException=function(a){"use strict";a=a||"Data size is out of supported range.",this.message=a};DataOutOfRangeException.prototype.constructor=DataOutOfRangeException,DataOutOfRangeException.prototype.toString=function(){"use strict";return this.message};var GeneratorPolynominal=function(){"use strict";this.log=[],this.antilog=[],this.symbol=",",this.createLogAndAntilog()};GeneratorPolynominal.prototype.constructor=GeneratorPolynominal,GeneratorPolynominal.prototype.createLogAndAntilog=function(){"use strict";for(var a=0;256>a;a+=1){for(var b=1,c=a;c>0;)b<<=1,b=b>255?285^b:b,c-=1;this.log[a]=b,this.antilog[b]=a}},GeneratorPolynominal.prototype.exp2int=function(a){"use strict";return this.log[a]},GeneratorPolynominal.prototype.int2exp=function(a){"use strict";return this.antilog[a]},GeneratorPolynominal.prototype.multiply=function(a,b){"use strict";for(var c,d,e,f,g={},h=[],i=0;i<b.length;i+=1)for(var j=0;j<a.length;j+=1){e=a[j],f=b[i];var k=e.split(this.symbol).parseInt(),l=f.split(this.symbol).parseInt();e=k[0]+l[0],f=k[1]+l[1],e%=255,f%=255,f=this.symbol+f,"undefined"==typeof g[f]&&(g[f]=[]),g[f].push(e)}for(var m in g)if(g.hasOwnProperty(m)){if(c=0,d=parseInt(m.toString().replace(/\D/,"")),e=parseInt(g[m][0]),g[m].length>1){f=parseInt(g[m][1]),e=this.exp2int(e),f=this.exp2int(f);var n=e^f;c=this.int2exp(n)}else c=e;c%=255,h.push(c+this.symbol+d)}return h},GeneratorPolynominal.prototype.polynominal=function(a){"use strict";var b=[],c=1,d=["0"+this.symbol+"1","0"+this.symbol+"0"];do{var e=["0"+this.symbol+"1",c+this.symbol+"0"];d=this.multiply(d,e),c+=1}while(a>c);for(;d.length>0;){var f=d.shift().split(this.symbol).shift();b.push(parseInt(f))}return b};var Mask=function(a){"use strict";this.matrix=a,this.config=new Config};Mask.prototype.constructor=Mask,Mask.prototype.apply=function(a,b){"use strict";b=b||!1;var c,d,e,f={evaluation:{},data:[]},g=this.patterns[a];if(b===!0)for(d=0;d<this.matrix.data.length;d+=1)for(e=0;e<this.matrix.data[d].length;e+=1)this.matrix.mask[d][e]=this.matrix.MASK_DATA,this.matrix.data[d][e]=0;for(d=0;d<this.matrix.getSize();d+=1)for(f.data[d]=[],e=0;e<this.matrix.getSize();e+=1)f.data[d][e]=this.matrix.data[d][e],this.matrix.mask[d][e]===this.matrix.MASK_DATA&&(c=f.data[d][e],f.data[d][e]=g(d,e)?1^c:c);if(b===!1){var h=this.config.getFormatString(this.matrix.eclevel,a),i=this.config.getVersionInformationString(this.matrix.version);this.matrix.setFormatInformationArea(h,f.data),this.matrix.setVersionInformationArea(i,f.data)}var j=new Evaluation(this.matrix);return f.evaluation=j.evaluatePattern(f.data),f},Mask.prototype.patterns={0:function(a,b){"use strict";return(a+b)%2===0},1:function(a){"use strict";return a%2===0},2:function(a,b){"use strict";return b%3===0},3:function(a,b){"use strict";return(a+b)%3===0},4:function(a,b){"use strict";return(Math.floor(a/2)+Math.floor(b/3))%2===0},5:function(a,b){"use strict";return a*b%2+a*b%3===0},6:function(a,b){"use strict";return(a*b%2+a*b%3)%2===0},7:function(a,b){"use strict";return((a+b)%2+a*b%3)%2===0}};var Matrix=function(a,b){"use strict";if(this.config=new Config,"undefined"==typeof a||isNaN(parseInt(a)))throw new InvalidVersionNumberException;this.DATA_UNDEFINED_MODULE=7,this.DATA_LIGHT_MODULE=0,this.DATA_DARK_MODULE=1,this.MASK_UNDEFINED_MODULE=15,this.MASK_POSITION_DETECTION_PATTERN=101,this.MASK_SEPARATOR=102,this.MASK_TOP_TIMER=103,this.MASK_LEFT_TIMER=104,this.MASK_ALIGNMENT_PATTERN=105,this.MASK_FIXED_DARK_MODULE=106,this.MASK_FORMAT_INFORMATION=201,this.MASK_VERSION_INFORMATION_NE=202,this.MASK_VERSION_INFORMATION_SW=222,this.MASK_DATA=255,this.version=parseInt(a),this.eclevel=b,this.size=4*(this.version-1)+21,this.data=this.allocate(this.size,this.DATA_UNDEFINED_MODULE),this.mask=this.allocate(this.size,this.MASK_UNDEFINED_MODULE)};Matrix.prototype.constructor=Matrix,Matrix.prototype.setStaticAreas=function(){"use strict";this.setPositionDetectionPatterns(),this.setSeparators(),this.setTimingPatterns(),this.setFixedDarkModule(),this.setAlignmentPatterns()},Matrix.prototype.setFixedDarkModule=function(){"use strict";var a=8,b=4*this.version+9;this.setDarkModule(a,b,this.MASK_FIXED_DARK_MODULE)},Matrix.prototype.setPositionDetectionPatterns=function(){"use strict";this.setPositionDetectionPattern(0,0),this.setPositionDetectionPattern(this.getSize()-7,0),this.setPositionDetectionPattern(0,this.getSize()-7)},Matrix.prototype.setSeparators=function(){"use strict";var a,b=0,c=0,d=this.getSize()-7,e=0,f=7;for(a=7;a>0;)a-=1,this.setLightModule(b+f,c+e+a,this.MASK_SEPARATOR),this.setLightModule(b+e+a,c+f,this.MASK_SEPARATOR);for(e=f,f=e,this.setLightModule(b+e,c+f,this.MASK_SEPARATOR),a=7;a>0;)a-=1,e=d,f=7,this.setLightModule(b+e+a,c+f,this.MASK_SEPARATOR),e=d-1,f=0,this.setLightModule(b+e,c+f+a,this.MASK_SEPARATOR);for(e=d-1,f=7,this.setLightModule(b+e,c+f,this.MASK_SEPARATOR),a=7;a>0;)a-=1,e=7,f=d,this.setLightModule(b+e,c+f+a,this.MASK_SEPARATOR),e=0,f=d-1,this.setLightModule(b+e+a,c+f,this.MASK_SEPARATOR);e=d-1,f=7,this.setLightModule(b+f,c+e,this.MASK_SEPARATOR)},Matrix.prototype.setTimingPatterns=function(){"use strict";for(var a=this.getSize()-7,b=8;a-1>b;b+=1)b%2===0?(this.setDarkModule(b,6,this.MASK_TOP_TIMER),this.setDarkModule(6,b,this.MASK_LEFT_TIMER)):(this.setLightModule(b,6,this.MASK_TOP_TIMER),this.setLightModule(6,b,this.MASK_LEFT_TIMER))},Matrix.prototype.setAlignmentPatterns=function(){"use strict";for(var a=this.config.alignmentPatternLocations[this.version],b=0;b<a.length;b+=1)for(var c=0;c<a.length;c+=1)0===b&&0===c||0===b&&c===a.length-1||b===a.length-1&&0===c||this.setAlignmentPattern(a[b],a[c])},Matrix.prototype.setReservedAreas=function(){"use strict";this.setFormatInformationArea(),this.setVersionInformationArea()},Matrix.prototype.setFormatInformationArea=function(a,b){"use strict";a=a||"000000000000000",b=b||this.data;for(var c,d,e=a.split("").map(function(a){return parseInt(a)}),f=[[],[]],g=0;e.length>0;)g=e.shift(),f[0].push(g),f[1].push(g);for(c=8,d=0;8>d;d+=1)6!==d&&(1===f[0].pop()?this.setDarkModule(c,d,this.MASK_FORMAT_INFORMATION,b):this.setLightModule(c,d,this.MASK_FORMAT_INFORMATION,b));for(c=8,d=8;c>=0;c-=1)6!==c&&(1===f[0].pop()?this.setDarkModule(c,d,this.MASK_FORMAT_INFORMATION,b):this.setLightModule(c,d,this.MASK_FORMAT_INFORMATION,b));for(c=this.size-1,d=8;c>=this.size-8;c-=1)1===f[1].pop()?this.setDarkModule(c,d,this.MASK_FORMAT_INFORMATION,b):this.setLightModule(c,d,this.MASK_FORMAT_INFORMATION,b);for(c=8,d=4*this.version+9+1;d<this.size;d+=1)1===f[1].pop()?this.setDarkModule(c,d,this.MASK_FORMAT_INFORMATION,b):this.setLightModule(c,d,this.MASK_FORMAT_INFORMATION,b)},Matrix.prototype.setVersionInformationArea=function(a,b){"use strict";if(this.version<7)return!1;a=a||"000000000000000000",b=b||this.data;for(var c,d,e,f,g=a.split("").map(function(a){return parseInt(a)}),h=[[],[]];g.length>0;)c=g.shift(),h[0].push(c),h[1].push(c);for(e=0,d=this.size-11;6>e;e+=1)for(f=0;3>f;f+=1)1===h[0].pop()?this.setDarkModule(d+f,e,this.MASK_VERSION_INFORMATION_NE,b):this.setLightModule(d+f,e,this.MASK_VERSION_INFORMATION_NE,b);
for(e=this.size-11,d=0;6>d;d+=1)for(f=0;3>f;f+=1)1===h[1].pop()?this.setDarkModule(d,e+f,this.MASK_VERSION_INFORMATION_SW,b):this.setLightModule(d,e+f,this.MASK_VERSION_INFORMATION_SW,b);return!0},Matrix.prototype.allocate=function(a,b){"use strict";var c,d,e=[];for(c=0;a>c;c+=1){var f=[];for(d=0;a>d;d+=1)f[d]=b;e.push(f)}return e},Matrix.prototype.getSize=function(){"use strict";return this.size},Matrix.prototype.getData=function(){"use strict";return this.data},Matrix.prototype.getMask=function(){"use strict";return this.mask},Matrix.prototype.setAlignmentPattern=function(a,b){"use strict";var c,d,e,f;for(this.setDarkModule(a,b,this.MASK_ALIGNMENT_PATTERN),f=1,c=a-f;a+f>=c;c+=1)d=b-f,this.setLightModule(c,d,this.MASK_ALIGNMENT_PATTERN),d=b+f,this.setLightModule(c,d,this.MASK_ALIGNMENT_PATTERN);for(e=b-f;b+f>=e;e+=1)d=e,c=a-f,this.setLightModule(c,d,this.MASK_ALIGNMENT_PATTERN),c=a+f,this.setLightModule(c,d,this.MASK_ALIGNMENT_PATTERN);for(f=2,e=a-f;a+f>=e;e+=1)c=e,d=b-f,this.setDarkModule(c,d,this.MASK_ALIGNMENT_PATTERN),d=b+f,this.setDarkModule(c,d,this.MASK_ALIGNMENT_PATTERN);for(e=b-f;b+f>=e;e+=1)d=e,c=a-f,this.setDarkModule(c,d,this.MASK_ALIGNMENT_PATTERN),c=a+f,this.setDarkModule(c,d,this.MASK_ALIGNMENT_PATTERN)},Matrix.prototype.setPositionDetectionPattern=function(a,b){"use strict";var c,d;for(c=0;7>c;c+=1)d=0,this.setDarkModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN),d=6,this.setDarkModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN);for(c=1;6>c;c+=1)d=1,this.setLightModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN),d=5,this.setLightModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN);for(d=1;6>d;d+=1)c=0,this.setDarkModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN),c=6,this.setDarkModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN);for(d=1;6>d;d+=1)c=1,this.setLightModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN),c=5,this.setLightModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN);for(c=2;5>c;c+=1)for(d=2;5>d;d+=1)this.setDarkModule(b+c,a+d,this.MASK_POSITION_DETECTION_PATTERN)},Matrix.prototype.isModuleUndefined=function(a,b,c){"use strict";return c=c||this.data,c[b][a]===this.DATA_UNDEFINED_MODULE},Matrix.prototype.setModule=function(a,b,c,d,e){"use strict";e=e||this.data,e[b][a]=c,this.mask[b][a]=d},Matrix.prototype.setDarkModule=function(a,b,c,d){"use strict";d=d||this.data,this.setModule(a,b,this.DATA_DARK_MODULE,c,d)},Matrix.prototype.setLightModule=function(a,b,c,d){"use strict";d=d||this.data,this.setModule(a,b,this.DATA_LIGHT_MODULE,c,d)};var QrCode=function(a,b,c,d,e,f){"use strict";if(a=a||"",b=b||["M"],d=d||null,e=e||!1,f=f||!1,"[object Array]"!==toString.call(b))throw new InvalidErrorCorrectionLevelException;if(b.forEach(function(a){if(null===a.match(/^[LMQH]$/i))throw new InvalidErrorCorrectionLevelException}),c="number"!=typeof parseInt(c)?null:parseInt(c),isNaN(c)&&(c=null),null!==c&&!(c>=0&&8>c))throw new OutOfRangeException("Mask pattern value is out of 0..7 range.");if(null!==d&&"number"!=typeof parseInt(d))throw new InvalidVersionNumberException;this.info={};var g,h,i,j,k,l={},m=0;if(g=new DataAnalyzer(d),this.info=g.analyze(a,b),h=new DataEncoder,k=h.encode(a,this.info.mode,this.info.version,this.info.eclevel),this.matrix=new Matrix(this.info.version,this.info.eclevel),this.matrix.setStaticAreas(),this.matrix.setReservedAreas(),i=new Tiler(this.matrix),i.setArea(k),e!==!0){if(j=new Mask(this.matrix),null===c){var n=[],o={};for(m=0;8>m;m+=1)l=j.apply(m),n.push(l.evaluation.total),o[n[m]]=m;n=n.sort(),m=o[n[0]]}else m=parseInt(c),m=isNaN(m)?0:m;this.info.pattern=m,l=j.apply(m,f),this.matrix.data=l.data}};QrCode.prototype.getInfo=function(){"use strict";return this.info},QrCode.prototype.getData=function(){"use strict";return this.matrix.getData()},QrCode.prototype.getSize=function(){"use strict";return this.matrix.getSize()};var Tiler=function(a){"use strict";this.matrix=a};Tiler.prototype.constructor=Tiler,Tiler.prototype.setArea=function(a){"use strict";var b=0,c=1,d=b,e={};e[b]=[[-1,0],[1,-1]],e[c]=[[-1,0],[1,1]];for(var f=this.matrix.getSize()-1,g=this.matrix.getSize()-1,h=g,i=a.split("").parseInt();i.length>0;){g>=0&&g<this.matrix.getSize()||(f-=2,g=h,d=d===b?c:b,6===f&&(f-=1));for(var j=0;j<e[d].length;j+=1){if(this.matrix.isModuleUndefined(f,g)){var k=i.shift();this.matrix.setModule(f,g,k,this.matrix.MASK_DATA)}h=g,f+=e[d][j][0],g+=e[d][j][1]}}};